<!DOCTYPE html>
<!-- saved from url=(0054)http://pages.cs.wisc.edu/~shivaram/cs537-sp19/p1a.html -->
<html lang="en" class="gr__pages_cs_wisc_edu"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>CS 537 Introduction to Operating Systems</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <link href="./CS 537 Introduction to Operating Systems_files/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 20px;
      }
    </style>
    <link href="./CS 537 Introduction to Operating Systems_files/bootstrap-responsive.css" rel="stylesheet">
		<script src="./CS 537 Introduction to Operating Systems_files/MathJax.js" id=""></script>


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></sc\
ript>
    <![endif]-->
  <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

  <body data-gr-c-s-loaded="true"><div id="MathJax_Message" style="display: none;"></div>

    <!--div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".na\
v-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">CS 537 Introduction to Operating Systems</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div-->

    <div class="container">

      <h1 id="cs537-spring-2019-project-1a">CS537 Spring 2019, Project 1a</h1>

<h2 id="administrivia">Administrivia</h2>
<ul>
  <li><strong>Due Date</strong> by Jan 29, 2019 at 11:59 PM</li>
  <li>Questions: We will be using Piazza for all questions.</li>
  <li>Collaboration: The assignment has to be done by yourself. Copying code (from others) is considered cheating. <a href="http://pages.cs.wisc.edu/~remzi/Classes/537/Spring2018/dontcheat.html">Read
this</a> for more info on what is OK and what is not. Please help us all have a good semester by not doing this.</li>
  <li>This project is to be done on the <a href="https://csl.cs.wisc.edu/services/instructional-facilities">lab machines</a>, so you can learn more about programming in C on a typical UNIX-based platform (Linux).</li>
  <li>Some tests are provided at <em>~cs537-1/tests/p1a</em>. Read more about the tests, including how to run them, by executing the command <code>cat ~cs537-1/tests/p1a/README</code> on any lab machine. Note these test cases are not complete, and you are encouraged to create more on your own.</li>
  <li>Handing it in: Copy your files to <em>~cs537-1/handin/login/p1a</em> where login is your login.</li>
</ul>

<h2 id="unix-utilities">Unix-Utilities</h2>
<p>In this assignment, you will build a set of linux utilities but
much simpler versions of common used commands like <strong>ls</strong>, <strong>cat</strong> etc. We say
simpler because to be mildly put the original are quite complicated. For ex - you
can find the source of <strong>cat</strong> command which concatenates files and writes out
to standard output is around 700 lines. We will call each of these utilities
slightly different to avoid confusion - <strong>my-cat</strong>, <strong>my-sed</strong>, <strong>my-uniq</strong>.</p>

<p>Objectives:</p>

<ul>
  <li>Re-familiarize yourself with the C programming language</li>
  <li>Re-familiarize yourself with a shell / terminal / command-line of UNIX</li>
  <li>Learn (as a side effect) how to use a proper code editor not necessarily emacs/vim</li>
  <li>Learn a little about how UNIX utilities are implemented</li>
</ul>

<p>While the project focuses upon writing simple C programs, you can see from the
above that even that requires a bunch of other previous knowledge, including a
basic idea of what a shell is and how to use the command line on some UNIX-based
systems (e.g., Linux or macOS), how to use an editor, and of
course a basic understanding of C programming. If you do not have these skills
already, this is not the right place to start.</p>

<p>Summary of what gets turned in:</p>
<ul>
  <li>Bunch of <em>.c</em> files, one each for a utility : <strong>my-cat.c</strong>, <strong>my-sed.c</strong>, <strong>my-uniq.c</strong></li>
  <li>Each should compile successfully when compiled with the -Wall and -Werror
flags.</li>
  <li>Each should (hopefully) pass tests we supply.</li>
  <li>Include a single README.md for all the files describing the implementation.</li>
  <li>Assume that input files for each utility can be larger than RAM available on
system.</li>
</ul>

<h3 id="my-cat">my-cat</h3>
<p>The program <strong>my-cat</strong> is a simple program. Generally, it reads a file
as specified by the user and prints its contents. A typical usage is as follows,
in which the user wants to see the contents of main.c, and thus types:</p>

<p><code>prompt&gt; ./my-cat main.c #include &lt;stdio.h&gt; ... </code></p>

<p>As shown, <strong>my-cat</strong> reads the file <strong>main.c</strong> and prints out its contents.  The
“<strong>./</strong>” before the <strong>my-cat</strong> above is a UNIX thing; it just tells the system
which directory to find <strong>my-cat</strong> in (in this case, in the “.” (dot) directory,
which means the current working directory).</p>

<p>To create the <strong>my-cat</strong> binary, you’ll be creating a single source file,
<strong>my-cat.c</strong>, and writing a little C code to implement this simplified version
of <strong>cat</strong>. To compile this program, you will do the following:</p>

<p><code>prompt&gt; gcc -o my-cat my-cat.c -Wall -Werror prompt&gt;</code></p>

<p>This will make a single <em>executable binary</em> called <strong>my-cat</strong> which you can then
run as above.</p>

<p>You’ll need to learn how to use a few library routines from the C standard
library (often called <strong>libc</strong>) to implement the source code for this program,
which we’ll assume is in a file called <strong>my-cat.c</strong>. All C code is automatically
linked with the C library, which is full of useful functions you can call to
implement your program. Learn more about the C library
<a href="https://en.wikipedia.org/wiki/C_standard_library">here</a> and perhaps
<a href="https://www-s.acm.illinois.edu/webmonkeys/book/c_guide/">here</a><sup><a href="http://pages.cs.wisc.edu/~shivaram/cs537-sp19/p1a.html#myfootnote1">1</a></sup>.</p>

<p>For this project, we recommend using the following routines to do file input and
output: <strong>fopen()</strong>, <strong>fgets()</strong>, and <strong>fclose()</strong>. Whenever you use a new
function like this, the first thing you should do is read about it – how else
will you learn to use it properly?</p>

<p>On UNIX systems, the best way to read about such functions is to use what are
called the <strong>man</strong> pages (short for <strong>manual</strong>). In our HTML/web-driven world,
the man pages feel a bit antiquated, but they are useful and informative and
generally quite easy to use.</p>

<p>To access the man page for <strong>fopen()</strong>, for example, just type the following at
your UNIX shell prompt: <code>prompt&gt; man fopen</code></p>

<p>Then, read! Reading man pages effectively takes practice; why not start learning
now?</p>

<p>We will also give a simple overview here. The <strong>fopen()</strong> function “opens” a
file, which is a common way in UNIX systems to begin the process of file access.
In this case, opening a file just gives you back a pointer to a structure of
type <strong>FILE</strong>, which can then be passed to other routines to read, write, etc.</p>

<p>Here is a typical usage of <strong>fopen()</strong>:</p>

<pre><code class="language-c">FILE *fp = fopen("main.c", "r"); 
if (fp == NULL) { 
	printf("cannot open
	file\n"); exit(1); 
} 
</code></pre>

<p>A couple of points here. First, note that <strong>fopen()</strong> takes two arguments: the
<em>name</em> of the file and the <em>mode</em>. The latter just indicates what we plan to do
with the file. In this case, because we wish to read the file, we pass “r” as
the second argument. Read the man pages to see what other options are available.</p>

<p>Second, note the <em>critical</em> checking of whether the <strong>fopen()</strong> actually
succeeded. This is not Java where an exception will be thrown when things goes
wrong; rather, it is C, and it is expected (in good programs, i.e., the only
kind you’d want to write) that you always will check if the call succeeded.
Reading the man page tells you the details of what is returned when an error is
encountered; in this case, the macOS man page says:</p>

<pre><code>Upon successful completion fopen(), fdopen(), freopen() and fmemopen()
return a FILE pointer.  Otherwise, NULL is returned and the global variable
errno is set to indicate the error.  
</code></pre>

<p>Thus, as the code above does, please check that <strong>fopen()</strong> does not return NULL
before trying to use the FILE pointer it returns.</p>

<p>Third, note that when the error case occurs, the program prints a message and
then exits with error status of 1. In UNIX systems, it is traditional to return
0 upon success, and non-zero upon failure. Here, we will use 1 to indicate
failure.</p>

<p>Side note: if <strong>fopen()</strong> does fail, there are many reasons possible as to why.
You can use the functions <strong>perror()</strong> or <strong>strerror()</strong> to print out more about
<em>why</em> the error occurred; learn about those on your own (using … you guessed
it … the man pages!).</p>

<p>Once a file is open, there are many different ways to read from it. The one
we’re suggesting here to you is <strong>fgets()</strong>, which is used to get input from
files, one line at a time.</p>

<p>To print out file contents, just use <strong>printf()</strong>. For example, after reading in
a line with <strong>fgets()</strong> into a variable <strong>buffer</strong>, you can just print out the
buffer as follows:</p>

<p><code>printf("%s", buffer);</code></p>

<p>Note that you should <em>not</em> add a newline (\n) character to the printf(),
because that would be changing the output of the file to have extra newlines.
Just print the exact contents of the read-in buffer (which, of course, many
include a newline).</p>

<p>Finally, when you are done reading and printing, use <strong>fclose()</strong> to close the
file (thus indicating you no longer need to read from it).</p>

<p><strong>Details</strong></p>

<ul>
  <li>Your program <strong>my-cat</strong> can be invoked with one or more files on the command
line; it should just print out each file in turn.</li>
  <li>In all non-error cases, <strong>my-cat</strong> should exit with status code 0, usually by
returning a 0 from <strong>main()</strong> (or by calling <strong>exit(0)</strong>).</li>
  <li>If <em>no files</em> are specified on the command line, <strong>my-cat</strong> should just exit
and return 0. Note that this is slightly different than the behavior of normal
UNIX <strong>cat</strong> (if you’d like to, figure out the difference).</li>
  <li>If the program tries to <strong>fopen()</strong> a file and fails, it should print the
exact message “my-cat: cannot open file” (followed by a newline) and exit with
status code 1.  If multiple files are specified on the command line, the files
should be printed out in order until the end of the file list is reached or an
error opening a file is reached (at which point the error message is printed and
<strong>my-cat</strong> exits).</li>
</ul>

<h3 id="my-sed">my-sed</h3>
<p>The second utility you will build is called <strong>my-sed</strong>, a variant of
the GNU/Linux utility called <strong>sed</strong> or streaming editor. For all purposes sed is
the command line version of find and replace, the power of sed comes from
matching regular expressions. Using regex’s you don’t just match strings but
any possible pattern. But thankfully <strong>my-sed</strong> will only be used to find
and replace it with the exact given string. It will find the <em>first</em> instance of a string in a <strong>line</strong> 
and <strong>substitute</strong> it with another. It will <strong>print</strong> the output to standard output. Instances following the <em>first</em> instance remain as is.<br>
In case there is no candidate to substitute the line will be printed as is.
Here is how a user will substitute word the <strong>foo</strong> with <strong>bar</strong> from <strong>baz.txt</strong> and
<strong>qux.txt</strong></p>

<p><code>prompt&gt; ./my-sed foo bar baz.txt qux.txt</code></p>

<p><strong>Details</strong></p>

<ul>
  <li>Your program my-sed is passed with a find term, a replace term, and arbitrary number of input files.</li>
  <li>If an empty string (<strong>”“</strong>) is specified as the replace term, then instead of
replacing, the search term should be deleted (don’t substitute a space).</li>
  <li>The matching is case sensitive. So <strong>foo</strong> will not match with <strong>Foo</strong>.</li>
  <li>The find and replace terms will not contain any escape characters like <code>\n</code> or <code>\0</code>.</li>
  <li>The lines can be arbitrarily long (that is, you may see many many characters 
before you encounter a newline character, \n). <strong>my-sed</strong> should work as expected 
even with very long lines. For this, you might want to look into the <strong>getline()</strong> 
library call (instead of <strong>fgets()</strong>), or roll your own.</li>
  <li>If the <strong>my-sed</strong> is passed with no command line arguments or if any of the
mandatory arguments are missing it should print “my-sed: find_term replace_term [file …]” (followed by a newline) and
exit with status code 1. 
Ex of such inputs -
    <pre><code>  prompt&gt; ./my-sed
  prompt&gt; ./my-sed foo
</code></pre>
  </li>
  <li>If <strong>my-sed</strong> encounters a file that it can’t open it should print
“my-sed: cannot open file” (followed by a newline) and exit with
status code 1 immediately.</li>
  <li>If no input file is specified, <strong>my-sed</strong> should work but instead of reading from a file, <strong>my-sed</strong> should read from <em>standard input</em>. Doing
so is easy because the file stream <strong>stdin</strong> is already open; you can use 
<strong>fgets()</strong> (or similar routines) to read from it.</li>
  <li>
    <p>Following are different ways <strong>my-sed</strong> can be executed</p>

    <ul>
      <li>In the following case term <strong>foo</strong> will be removed from bar.txt
        <pre><code>  prompt&gt; ./my-sed foo "" bar.txt
</code></pre>
      </li>
      <li>In the following case  word <strong>foo</strong> will be replaced by <strong>bar.txt</strong> taking the input
from stdin.
        <pre><code>  prompt&gt; ./my-sed foo bar.txt
</code></pre>
      </li>
      <li>In the following case replace <strong>foo.txt</strong> by <strong>bar.txt</strong> in <strong>baz.txt</strong>.
        <pre><code>  prompt&gt; ./my-sed foo.txt bar.txt baz.txt
</code></pre>
      </li>
      <li>
        <p>In the following case replace <strong>foo.txt</strong> for <strong>bar.txt</strong> taking input from stdin.</p>

        <pre><code>  prompt&gt; ./my-sed foo.txt bar.txt
</code></pre>
      </li>
      <li>On the other hand if the input to <strong>my-sed</strong> is following
        <pre><code>  prompt&gt; ./my-sed foo.txt
</code></pre>
        <p>The output should be-</p>
        <pre><code>  prompt&gt; my-sed find_term replace_term [file ...]
</code></pre>
      </li>
    </ul>
  </li>
  <li>The above examples should have given you an idea exactly when your program
should throw an error.</li>
</ul>

<h3 id="my-uniq">my-uniq</h3>
<p>The last (phew !) utility you will build is called <strong>my-uniq</strong>, a version of the
unix utility uniq (it should be pretty obvious by now). 
The original unix uniq utility detects adjacent duplicate lines from the input file and removes them and writes out to
an output file. <strong>my-uniq</strong> will do exactly this, it finds out adjacent
duplicate lines in files, and prints them.</p>

<p>For example, consider the following command:
<code>prompt&gt; ./my-uniq foo.txt  bar.txt</code>
This will read contents from file <strong>foo.txt</strong> and <strong>bar.txt</strong>, delete adjacent duplicate lines from
each of them and print the output to shell.</p>

<p><strong>Details</strong></p>

<ul>
  <li>If <strong>my-uniq</strong> encounters a file that it can’t open it should print. 
“my-uniq: cannot open file” (followed by a newline) and exit with
status code 1 immediately.</li>
  <li><strong>my-uniq</strong> should accept arbitrary number of files as input and print the output to standard output. However, it should only detect duplicates within each file. For example, if the first line in the second file is the same as the last line in the first file, it should not be removed.</li>
  <li>The input file can be really large as well as each line can be arbitrarily long.</li>
  <li>The input file should not be modified.</li>
  <li>If no files are specified, <strong>my-uniq</strong> should read from <em>standard input</em>.</li>
</ul>

<h2 id="acknowledgment">Acknowledgment</h2>
<p>The assignment borrows a considerable amount of content from assignment 1 of Prof. Remzi’s course
in Spring 2018.</p>

<h3 id="footnotes">Footnotes</h3>
<p><a name="myfootnote1">1</a>: Unfortunately, there is a lot to learn about the
C library, but at some point, you’ve just got to <strong>read documentation</strong> to
learn what is available. Why not now, when you are young? Or, if you are old,
why not now, before it’s … ahem … too late?</p>



    </div>

  

</body></html>